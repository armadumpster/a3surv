{
	private _fnc_scriptNameParent = if (isNil '_fnc_scriptName') then {'A3SClient_fnc_zombieSpawnerClient'} else {_fnc_scriptName};
	private _fnc_scriptName = 'A3SClient_fnc_zombieSpawnerClient';
	scriptName _fnc_scriptName;

#line 1 "A3S_client\bin\scripts\zombie\fn_zombieSpawnerClient.sqf [A3SClient_fnc_zombieSpawnerClient]"

scriptName"fn_zombieSpawnerClient";if(isDedicated) exitWith{};a3s_zombieSpawner_DataToSend=[];if!(vehicle player isEqualTo player) exitWith{};_tmpBlacklisted=[];{if((diag_tickTime-(_x select 1))<600) then{_tmpBlacklisted pushBack[(_x select 0),(_x select 1)];};}forEach a3s_cl_blackListedPositions;a3s_cl_blackListedPositions=_tmpBlacklisted;_howManyAlreadySpawned=0;_nearBuildings=nearestObjects[player,["House"],a3s_sv_zombies_maxRadius-50];if(count _nearBuildings>0) then{if(({(_x select 0) distance2D(position(_nearBuildings select 0))<170}count a3s_cl_blackListedPositions) isEqualTo 0) then{{_building=_x;if((_building distance(getMarkerPos"a3s_airoampoint_0"))>2000) then{if!((_building buildingPos 0) isEqualTo[0,0,0]) then{_countZombies={_x getVariable["isZombie",false]AND(agent _x) distance player<a3s_sv_zombies_maxRadius}count agents;if(_countZombies<a3s_sv_zombies_inMaxRadiusMaxZombies AND 0<(a3s_sv_zombies_inMaxRadiusMaxZombies-_countZombies-_howManyAlreadySpawned) AND({_x getVariable["isZombie",false]}count agents)<a3s_sv_zombies_maxCount) then{a3s_zombieSpawner_DataToSend pushBack[_building,player];
_howManyAlreadySpawned=_howManyAlreadySpawned+1;uiSleep 0.1;a3s_cl_blackListedPositions pushBack[(position _building),diag_tickTime];};};};}forEach _nearBuildings;};};_nearCrashSides=nearestObjects[player,["A3S_CrashSide_Mi8","A3S_CrashSide_Blackhawk"],a3s_sv_zombies_maxRadius+50];if(count _nearCrashSides>0) then{if(({(_x select 0) distance2D(position(_nearCrashSides select 0))<230}count a3s_cl_blackListedPositions) isEqualTo 0) then{{_CrashSide=_x;_countZombies={_x getVariable["isZombie",false]AND(agent _x) distance player<a3s_sv_zombies_maxRadius}count agents;if(_countZombies<a3s_sv_zombies_inMaxRadiusMaxZombies AND({_x getVariable["isZombie",false]}count agents)<a3s_sv_zombies_maxCount) then{[_CrashSide]spawn A3SClient_fnc_processCrashSide;a3s_cl_blackListedPositions pushBack[(position _CrashSide),diag_tickTime];};}forEach _nearCrashSides;};};if(count a3s_zombieSpawner_DataToSend>0) then{[a3s_zombieSpawner_DataToSend]spawn A3SClient_fnc_processZombieData;};
}