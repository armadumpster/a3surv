{
	private _fnc_scriptNameParent = if (isNil '_fnc_scriptName') then {'A3SClient_fnc_object_item_consume'} else {_fnc_scriptName};
	private _fnc_scriptName = 'A3SClient_fnc_object_item_consume';
	scriptName _fnc_scriptName;

#line 1 "A3S_client\bin\scripts\inventory\fn_object_item_consume.sqf [A3SClient_fnc_object_item_consume]"

scriptName"fn_object_item_consume";private["_itemClassName","_consumingConfig","_configEffects","_effect","_animations","_configSounds","_numberOfConfigSounds","_returnItemClass","_effectHunger","_effectThirst","_effectDamage","_infected","_effectitem","_food","_drink","_displayName"];_itemClassName=_this select 0;if(_itemClassName isEqualTo"") exitWith{};if!(_itemClassName in(magazines player)) exitWith{closedialog 0;false;};if(a3s_inAction) exitWith{["<t color='#ffff00'>Can not make two things at the same time</t>"]call A3SClient_fnc_addToFeed;};if(isClass(configFile>>"CfgMagazines">>_itemClassName>>"Interactions">>"Consuming")) then{if(_itemClassName isEqualTo"A3S_Item_Antibiotic") exitWith{a3s_infected=false;player removeItem _itemClassName;["<t color='#A3FB26'>I feel better</t>"]call A3SClient_fnc_addToFeed;602 call A3SClient_fnc_RefreshInventoryHud;};if(_itemClassName isEqualTo"A3S_Item_VitaminBottle") exitWith{a3s_infected=false;player removeItem _itemClassName;["<t color='#A3FB26'>I feel better</t>"]call A3SClient_fnc_addToFeed;602 call A3SClient_fnc_RefreshInventoryHud;};_consumingConfig=configFile>>"CfgMagazines">>_itemClassName>>"Interactions">>"Consuming";_configEffects=getArray(_consumingConfig>>"effects");_ItemConfig=configFile>>"CfgMagazines">>_itemClassName;_displayName=getText(_ItemConfig>>"displayName");
_effect=selectRandom(_configEffects);_effectHunger=_effect select 0;_effectThirst=_effect select 1;_effectDamage=_effect select 2;_effectitem=_effect select 3;_food=false;_drink=false;if(_effectitem isEqualTo 1) then{_food=true;}else{_drink=true;};if(_food AND a3s_hunger>95) exitWith{["<t color='#47FF38'>I have absolutely no hunger</t>"]call A3SClient_fnc_addToFeed;};if(_drink AND a3s_thirst>95) exitWith{["<t color='#47FF38'>I have absolutely no thirst</t>"]call A3SClient_fnc_addToFeed;};["<t color='#ffff00'>I have consumed: "+_displayName+"</t>"]call A3SClient_fnc_addToFeed;if!(_effectHunger isEqualTo 0) then{a3s_hungerArrow=a3s_hunger;};if!(_effectThirst isEqualTo 0) then{a3s_thirstArrow=a3s_thirst;};[_effectHunger,_effectThirst]call A3SClient_fnc_changeHungerThirst;player setDamage(damage player-(_effectDamage/10000));_infected=getNumber(_consumingConfig>>"infected");if(_infected isEqualTo 1) then {[10]spawn A3SClient_fnc_infectMe;};_animations=getArray(_consumingConfig>>"animations");if!(_animations isEqualTo[]&&vehicle player isEqualTo player) then {player playMoveNow(selectRandom(_animations));};_configSounds=getArray(_consumingConfig>>"sounds");if!(_configSounds isEqualTo[]) then {player say3D(selectRandom(_configSounds));};player removeItem _itemClassName;_returnItemClass=getText(_consumingConfig>>"returnedItem");if(_returnItemClass!="") then {player addItem _returnItemClass;};602 call A3SClient_fnc_RefreshInventoryHud;};true
}