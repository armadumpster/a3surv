{
	private _fnc_scriptNameParent = if (isNil '_fnc_scriptName') then {'A3SClient_fnc_openInteractionMenu'} else {_fnc_scriptName};
	private _fnc_scriptName = 'A3SClient_fnc_openInteractionMenu';
	scriptName _fnc_scriptName;

#line 1 "A3S_client\bin\scripts\interaction\pinteraction\fn_openInteractionMenu.sqf [A3SClient_fnc_openInteractionMenu]"

scriptName"fn_openInteractionMenu";if(!a3s_Alive) exitWith{hint"not working1";};if(a3s_inAction) exitWith{hint"not working2";};if(!alive cursorTarget) exitWith{hint"not working3";};private["_type","_display","_curTarget","_itemsPlayer","_Btn1","_Btn2","_Btn3","_Btn4","_Btn5","_Btn6","_Btn7","_Btn8"];if(!dialog) then{createDialog"playerinteractionMenu";};disableSerialization;_curTarget=param[0,objNull,[objNull]];_type =param[1,0,[0]];_itemsPlayer=(vestItems player)+(backpackITems player)+(uniformItems player);a3s_pInact_curTarget=_curTarget;_display=findDisplay 800;_Btn0=_display displayCtrl 0;_Btn1=_display displayCtrl 10;_Btn2=_display displayCtrl 20;_Btn3=_display displayCtrl 30;_Btn4=_display displayCtrl 40;_Btn5=_display displayCtrl 50;_Btn6=_display displayCtrl 60;_Btn7=_display displayCtrl 70;_Btn8=_display displayCtrl 80;switch(_type) do{case 0:{_Btn0 ctrlEnable true;_Btn1 ctrlEnable true;_Btn2 ctrlEnable true;_Btn3 ctrlEnable true;_Btn4 ctrlEnable true;_Btn5 ctrlEnable true;_Btn6 ctrlEnable true;_Btn7 ctrlEnable true;_Btn8 ctrlEnable true;_Btn0 ctrlSetText"Give bloodbag";if("A3S_Item_Bloodbag"in(_itemsPlayer))then{_Btn0 buttonSetAction"[] spawn A3SClient_fnc_interaction_BloodBag;closeDialog 0;";}else{_Btn0 buttonSetAction"[""<t color='#ffff00'>I need a full Bloodbag</t>""] call A3SClient_fnc_addToFeed;";};_Btn1 ctrlSetText"Take blood";if("A3S_Item_Bloodbag_Empty"in(_itemsPlayer))then{_Btn1 buttonSetAction"[] spawn A3SClient_fnc_interaction_EmptyBloodBag;closeDialog 0;";}else{_Btn1 buttonSetAction"[""<t color='#ffff00'>I need a empty Bloodbag</t>""] call A3SClient_fnc_addToFeed;";};_Btn2 ctrlSetText"Bandage wounds";if("A3S_Item_Bandage"in _itemsPlayer)then{if(_curTarget getVariable["bleeding",false]) then{_Btn2 buttonSetAction"[] spawn A3SClient_fnc_interaction_Bandage;closeDialog 0;";}else{_Btn2 buttonSetAction"[""<t color='#ffff00'>He is not bleeding</t>""] call A3SClient_fnc_addToFeed;";};}else{_Btn2 buttonSetAction"[""<t color='#ffff00'>I need a Bandage</t>""] call A3SClient_fnc_addToFeed;";};_Btn3 ctrlSetText"Inject morphine";if("A3S_Item_Morphine"in _itemsPlayer)then{if(_curTarget getVariable["brokenlegs",false]) then{_Btn3 buttonSetAction"[] spawn A3SClient_fnc_interaction_Morphine;closeDialog 0;";}else{_Btn3 buttonSetAction"[""<t color='#ffff00'>He has no broken legs</t>""] call A3SClient_fnc_addToFeed;";};}else{_Btn3 buttonSetAction"[""<t color='#ffff00'>I need a Morphine stick</t>""] call A3SClient_fnc_addToFeed;";};_Btn4 ctrlSetText"Inject epipen";if(("A3S_Item_Epipen"in(_itemsPlayer))&&(_curTarget getVariable["unconscious",false]))then{_Btn4 buttonSetAction"[] spawn A3SClient_fnc_interaction_Epipen;closeDialog 0;";}else{_Btn4 buttonSetAction"[""<t color='#ffff00'>I need a Epipen</t>""] call A3SClient_fnc_addToFeed;";};if(_curTarget getVariable["cuffed",false]) then{_Btn5 ctrlSetText"Uncuff";_Btn5 buttonSetAction"false spawn A3SClient_fnc_interaction_ZipTie;closeDialog 0;";}else{_Btn5 ctrlSetText"Handcuff";if(("A3S_Item_ZipTie"in(_itemsPlayer)))then{_Btn5 buttonSetAction"true call A3SClient_fnc_interaction_ZipTie;closeDialog 0;";}else{_Btn5 buttonSetAction"[""<t color='#ffff00'>I need Zip Ties to do this </t>""] call A3SClient_fnc_addToFeed;";};};if(_curTarget getVariable["cuffed",false]) then{_Btn6 ctrlShow true;if(!(headgear _curTarget isEqualTo"A3S_Item_Burlap"))then{_Btn6 ctrlSetText"Burlap On";if("A3S_Item_Burlap"in(_itemsPlayer)) then{_Btn6 buttonSetAction"[] spawn A3SClient_fnc_interaction_Burlap;closeDialog 0;";}else{_Btn6 buttonSetAction"[""<t color='#ffff00'>I need a Burlap first</t>""] call A3SClient_fnc_addToFeed;";};}else{_Btn6 ctrlSetText"Burlap Off";_Btn6 buttonSetAction"[] spawn A3SClient_fnc_interaction_Burlap;closeDialog 0;";
};}else{_Btn6 ctrlShow false;};if(_curTarget getVariable["cuffed",false]) then{_Btn7 ctrlShow true;if(animationState _curTarget isEqualTo"acts_aidlpsitmstpssurwnondnon_loop") then{_Btn7 ctrlSetText"Help him up";_Btn7 buttonSetAction"{player switchMove ""Acts_AidlPsitMstpSsurWnonDnon_out"";} remoteExecCall [""BIS_FNC_SPAWN"",a3s_pInact_curTarget];closeDialog 0;";}else{_Btn7 ctrlSetText"Put him down";_Btn7 buttonSetAction"{player playActionNow ""A3s_CuffedAnimation_Out"";player switchMove ""Acts_AidlPsitMstpSsurWnonDnon_loop"";} remoteExecCall [""BIS_FNC_SPAWN"",a3s_pInact_curTarget];closeDialog 0;";};}else{_Btn7 ctrlShow false;};_Btn8 ctrlSetText"Hide Body";if("A3S_Item_Shovel"in(_itemsPlayer))then{if(_curTarget getVariable["isPlayerCorpse",false]) then{_Btn8 buttonSetAction"[] spawn A3SClient_fnc_items_Shovel;closeDialog 0;";}else{_Btn8 buttonSetAction"[""<t color='#ffff00'>He is not dead</t>""] call A3SClient_fnc_addToFeed;";};}else{_Btn8 buttonSetAction"[""<t color='#ffff00'>I need a Shovel</t>""] call A3SClient_fnc_addToFeed;";};0 spawn{for"_i"from 0 to 1 step 0 do{if(player distance a3s_pInact_curTarget>2) exitWith{closeDialog 0;};if(!alive cursorTarget) exitWith{closeDialog 0;};if(!dialog) exitWith{closeDialog 0;};uisleep 0.1;};};};case 1:{_Btn0 ctrlEnable true;_Btn1 ctrlShow false;_Btn2 ctrlShow false;_Btn3 ctrlShow false;_Btn4 ctrlShow false;_Btn5 ctrlShow false;_Btn6 ctrlShow false;_Btn7 ctrlShow false;_Btn8 ctrlShow false;if!(inflamed _curTarget) then{_Btn0 ctrlSetText"Ignite fire";if("A3S_Item_Matchbox"in(_itemsPlayer)) then{_Btn0 buttonSetAction"[] spawn A3SClient_fnc_items_Matches;closeDialog 0;";}else{_Btn0 buttonSetAction"[""<t color='#ffff00'>I need some Matches to ignite the fire</t>""] call A3SClient_fnc_addToFeed;";};if(typeOf _curTarget isEqualTo"a3s_Basebuilding_GasCooker") then{_Btn1 ctrlSetText"Pick Up";_Btn1 ctrlEnable true;_Btn1 ctrlShow true;_Btn1 buttonSetAction"call A3SClient_fnc_pickup_GasCooker;closeDialog 0;";};}else{_Btn0 ctrlSetText"Extinguish fire";_Btn0 buttonSetAction"[] spawn A3SClient_fnc_items_extinguishFire;closeDialog 0;";if(typeOf _curTarget isEqualTo"a3s_Basebuilding_GasCooker") then{_Btn1 ctrlSetText"Pick Up";_Btn1 ctrlEnable true;_Btn1 ctrlShow true;_Btn1 buttonSetAction"[""<t color='#ffff00'>The Gas Cooker is still burning</t>""] call A3SClient_fnc_addToFeed;";};};};case 2:{_Btn0 ctrlEnable true;_Btn1 ctrlShow false;_Btn2 ctrlShow false;_Btn3 ctrlShow false;_Btn4 ctrlShow false;_Btn5 ctrlShow false;_Btn6 ctrlShow false;_Btn7 ctrlShow false;_Btn8 ctrlShow false;_Btn0 ctrlSetText"Refuel Jerrycan";if("A3S_Item_Jerrycan_Empty"in(_itemsPlayer)) then{_Btn0 buttonSetAction"[] spawn A3SClient_fnc_items_JerryCan;closeDialog 0;";}else{_Btn0 buttonSetAction"[""<t color='#ffff00'>I need a Empty Jerrycan</t>""] call A3SClient_fnc_addToFeed;";};};case 3:{_Btn0 ctrlEnable true;_Btn1 ctrlEnable true;_Btn8 ctrlEnable true;_Btn2 ctrlShow false;_Btn3 ctrlShow false;_Btn4 ctrlShow false;_Btn5 ctrlShow false;_Btn6 ctrlShow false;_Btn7 ctrlShow false;_objectConfig="isText(_x >> ""upgradeObject"")	&& getText(_x >> ""staticObject"") isEqualTo (typeOf _curTarget)"configClasses(configFile>>'CfgConstruction');_objectConfig=_objectConfig select 0;_objectClass=getText(_objectConfig>>"upgradeObject");_Btn0 ctrlSetText"Upgrade Object";if!(_objectClass isEqualTo"") then{_Btn0 buttonSetAction"0 spawn A3SClient_fnc_Construction_Upgrade;closeDialog 0;";}else{_Btn0 buttonSetAction"[""<t color='#ffff00'>You cannot upgrade the Object</t>""] call A3SClient_fnc_addToFeed;";};_Btn1 ctrlSetText"Move Object";_Btn1 buttonSetAction"0 spawn A3SClient_fnc_Construction_MoveRequest;closeDialog 0;";if(typeOf _curTarget isEqualTo"A3s_Basebuilding_Workbench") then{_Btn3 ctrlEnable true;_Btn3 ctrlShow true;_Btn3 ctrlSetText"Crafting Menu";_Btn3 buttonSetAction"closeDialog 0;playsound ""a3s_page_effect"";call A3SClient_fnc_gui_CraftingMenu;""basebuilding"" call A3SClient_fnc_gui_craftinglist_show;";};_Btn8 ctrlSetText"Delete Object";_Btn8 buttonSetAction"0 spawn A3SClient_fnc_Construction_Delete;closeDialog 0;";};};
}